#!/usr/bin/env bash
# prompt, stephen@niedzielski.com
# $1 status
# $2 columns

# ------------------------------------------------------------------------------
pad() {
  repeat ─ $((($1 - 2) - ${#PWD} % $1))
}

prompt() {
  # "
  # /home/stephen ─────────────────────────────────────────────────────────────────
  # $ "

  printf '\n'
  printf '%s%s%s %s\n' "$(tput setab 4)" "$PWD" "$(tput sgr0)" "$(pad $2)"
  printf '%s$%s ' "$([[ $1 -eq 0 ]] && tput setaf 2 || tput setaf 1)" "$(tput sgr0)"
}

# ------------------------------------------------------------------------------
if ! return 2>/dev/null; then
  prompt "$@"
fi