#!/usr/bin/env bash
# $1 status
# $2 escape nonprinting chars
set -euo pipefail

esc_tput() {
  local format=%s
  if [[ ${1-0} -ne 0 ]]; then
    format="\001$format\002"
  fi
  shift
  printf "$format" "$(tput "$@")"
}

case $1 in
#  0) char=ðŸ¤– ;;
#  *) char=ðŸ’¥ ;;
  0) char=â–ˆâ–ˆâ–ˆ ;;
  *) char=â–ˆâ–ˆâ–ˆ ;;
esac

# "bin$ "
echo "$(basename "$PWD")$(esc_tput "$2" setaf $(($1 ? 1 : 2)))$char $(esc_tput "$2" sgr0)"
exit "$1"