#!/usr/bin/env bash
# Record snapshot of root or active window.
# Copyright 2011 Stephen Niedzielski. Licensed under GPLv3+.

dpkg-query -l imagemagick > /dev/null &&

id="${1:-$(xprop -root|sed -rn 's|^_NET_ACTIVE_WINDOW\(WINDOW\): window id # ([0-9a-fA-F]+)|\1|p')}" &&

import -screen -frame -window "$id" ~/Desktop/$(date '+%F-%H-%M-%S-%N').png

